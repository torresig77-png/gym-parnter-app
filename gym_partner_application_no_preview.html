<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gym Partner Application ‚Äî Decision</title>
  <meta name="description" content="Apply to be my gym partner. Limited headcount. Must love PRs and post-lift tacos.">
  <style>
    :root {
      --bg:#0b0b0f; --card:#15151c; --muted:#9aa0a6; --text:#e8eaed;
      --danger:#ff6b6b; --border:#2a2a36; --input:#101017; --btn:#20202a;
      --danger-bg:#1f1212; --danger-border:#3a2323;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: radial-gradient(1000px 600px at 10% -10%, #111122 0%, #0b0b0f 40%);
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      line-height: 1.4; min-height: 100vh;
      display: grid; place-items: center; padding: 24px;
    }
    .card {
      width: 100%; max-width: 680px;
      background: linear-gradient(180deg, #15151c, #121219);
      border: 1px solid var(--border); border-radius: 16px;
      padding: 22px; box-shadow: 0 10px 30px rgba(0,0,0,.4);
      position: relative; overflow: hidden;
    }
    header { display:flex; gap:14px; align-items:center; margin-bottom:12px; }
    .logo { width:46px; height:46px; border-radius:12px; display:grid; place-items:center;
      background: conic-gradient(from 120deg,#2b2b3a,#1b1b26 50%,#2b2b3a); border:1px solid var(--border); font-weight:800; }
    .title-wrap h1 { font-size: 1.15rem; margin:0; }
    .subtitle { font-size:.92rem; color:var(--muted); margin-top:2px; }
    .section { padding:14px; border:1px dashed var(--border); border-radius:12px; margin-bottom:16px; background: rgba(255,255,255,.01); }
    label { display:block; font-size:.92rem; margin:8px 0 6px; }
    input, select, textarea {
      width:100%; padding:12px; background:var(--input);
      border:1px solid var(--border); border-radius:10px; color:var(--text);
    }
    .row { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    .actions { display:flex; gap:10px; align-items:center; margin-top:14px; flex-wrap:wrap; }
    .btn { cursor:pointer; border:1px solid var(--border); background:var(--btn); color:var(--text);
      padding:12px 16px; border-radius:12px; font-weight:600; }
    .btn:hover { transform: translateY(-1px); }
    .divider { height:1px; background:var(--border); margin:14px 0; }
    .confetti { position:fixed; inset:0; pointer-events:none; overflow:hidden; }
    .confetti span { position:absolute; font-size:26px; animation:fall 1.8s linear forwards; }
    @keyframes fall { to { transform:translateY(100vh) rotate(180deg); opacity:0; } }
    .toast {
      position:fixed; left:50%; transform:translateX(-50%); bottom:20px;
      background:#1a1010; color:var(--danger); border:1px solid var(--danger-border);
      border-radius:10px; padding:10px 14px; box-shadow:0 8px 20px rgba(0,0,0,.35); display:none;
    }
    .declined {
      display:none; text-align:center; padding:20px 14px;
      border:1px solid var(--danger-border); border-radius:12px;
      background: var(--danger-bg); color: var(--danger); margin-top:12px;
    }
    .declined h3 { margin:0 0 8px 0; }
  </style>
</head>
<body>
  <div class="card">
    <header>
      <div class="logo">üèãÔ∏è‚Äç‚ôÇÔ∏è</div>
      <div class="title-wrap">
        <h1>Gym Partner Application</h1>
        <div class="subtitle">Only the strongest vibes survive.</div>
      </div>
    </header>

    <!-- FORM wired to Getform -->
    <form id="appForm" class="section" action="https://getform.io/f/aolzmnzb" method="POST">
      <h2>Your Application</h2>
      <div class="row">
        <div><label>Name</label><input id="name" name="name" placeholder="First name works üòâ" required></div>
        <div><label>Preferred Gym</label><input id="gym" name="gym" placeholder="LA Fitness / Equinox / Garage"></div>
      </div>
      <div class="row">
        <div><label>Favorite Post-Lift Meal</label><input id="meal" name="meal" placeholder="Tacos, obviously"></div>
        <div><label>Spotting Style</label>
          <select id="spot" name="spot">
            <option value="hype">Aggressive hype</option>
            <option value="calm">Zen spotter</option>
            <option value="cinematic">I film & spot</option>
          </select>
        </div>
      </div>
      <label>Quick Pitch</label>
      <textarea id="pitch" name="pitch" rows="3" placeholder="Why should you be chosen?"></textarea>
      <input type="hidden" name="submitted_at" value="" id="submitted_at">

      <div class="actions">
        <button id="applyBtn" class="btn primary" type="submit">Submit Application</button>
      </div>

      <!-- Declined panel -->
      <div id="declined" class="declined">
        <h3>‚ùå Application Declined</h3>
        <div id="declinedText">Sorry, your vibes didn‚Äôt make the cut.<br>
        üëâ Text <b>714-248-4629</b> to submit an appeal.</div>
      </div>
    </form>
  </div>

  <div id="confetti" class="confetti"></div>
  <div id="toast" class="toast">Submitting‚Ä¶</div>

  <script>
    const form = document.querySelector("#appForm");
    const declined = document.querySelector("#declined");
    const toast = document.querySelector("#toast");
    const confetti = document.querySelector("#confetti");
    const tsEl = document.querySelector("#submitted_at");

    if (tsEl) tsEl.value = new Date().toISOString();

    function showToast(msg) {
      toast.textContent = msg;
      toast.style.display = "block";
      setTimeout(()=>toast.style.display="none",1300);
    }

    function thumbsDownRain() {
      for (let i=0; i<40; i++) {
        const span = document.createElement("span");
        span.textContent = "üëé";
        span.style.left = Math.random()*100 + "vw";
        span.style.top = "-5vh";
        span.style.animationDuration = (1.2+Math.random()*1.2) + "s";
        confetti.appendChild(span);
        setTimeout(()=>span.remove(),2500);
      }
    }

    function decline() {
      declined.style.display = "block";
      thumbsDownRain();
      showToast("Declined ‚ùå");
    }

    form.addEventListener("submit", async (e)=>{
      e.preventDefault();
      showToast("Submitting‚Ä¶");
      try {
        const data = new FormData(form);
        await fetch(form.action, {
          method:"POST", body:data, headers:{Accept:"application/json"}
        });
        decline();
        form.reset();
      } catch(err) {
        decline();
      }
    });
  </script>
</body>
</html>
